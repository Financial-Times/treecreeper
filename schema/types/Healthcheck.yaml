name: Healthcheck
description: The configuration used to provide monitoring/healthchecks for a system.
properties:
  code:
    type: Word
    required: true
    unique: true
    canIdentify: true
    label: Code
    description: 'Unique code/id for this item'
  isLive:
    type: Boolean
    canFilter: true
    label: Surface results to our Operations Support team?
    description: |
      All our production systems which are used by any customer (internal or external)
      should be shown to Operations Support. Reasons for not showing it include
      lower environments (eg test or staging) or a product which hasn't yet been
      launched to any customers.
    trueLabel: Show to Operations Support
    falseLabel: Not yet needed by Operations Support
  url:
    type: Url
    # required: true
    canIdentify: true
    label: URL of the healthcheck endpoint
    description: The full URL of the endpoint, including the "/__health"
    examples:
     - https://my-new-app.ft.com/__health
  monitors:
    type: System
    direction: incoming
    relationship: MONITORED_BY
    label: Monitored systems
    description: The systems which the healthcheck monitors
    hasMany: true
