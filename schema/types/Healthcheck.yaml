name: Healthcheck
description: The configuration used to provide monitoring/healthchecks for a system.
rank: 25
creationURL: https://monitoring-manager.in.ft.com/add-healthcheck
properties:
  code:
    type: Code
    required: true
    unique: true
    canIdentify: true
    isCore: true
    label: Code
    description:
      The unique identification code for the healthcheck. When creating a new healthcheck,
      choose a lower case, hyphenated string either similar to the url of the healthcheck,
      or briefly describing what it checks, e.g. my-system-us-east-1-health.
    pattern: MAX_LENGTH
  isLive:
    type: Boolean
    isCore: true
    label: Surface results to our Operations Support team?
    description: |
      All our production systems which are used by any customer (internal or external)
      should be shown to Operations Support. Reasons for not showing it include
      lower environments (e.g. test or staging) or a product which hasn't yet been
      launched to any customers.
    trueLabel: Show to Operations Support
    falseLabel: Not yet needed by Operations Support
  url:
    type: Url
    # required: true
    canIdentify: true
    isCore: true
    label: URL of the healthcheck endpoint
    description: The full URL of the endpoint. You should include the "__health" part of the url, if relevant.
    examples:
     - https://my-new-app.ft.com/__health
  monitors:
    type: System
    direction: incoming
    relationship: MONITORED_BY
    label: Monitored systems
    description: The systems which the healthcheck monitors.
    hasMany: true
